<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tables · MortalityTables.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="MortalityTables.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">MortalityTables.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../examples/">Usage and Examples</a></li><li class="is-active"><a class="tocitem" href>Tables</a><ul class="internal"><li><a class="tocitem" href="#Loading-Tables"><span>Loading Tables</span></a></li><li><a class="tocitem" href="#Table-Constructors"><span>Table Constructors</span></a></li><li><a class="tocitem" href="#Table-Attributes"><span>Table Attributes</span></a></li><li><a class="tocitem" href="#Rates,-Survival-and-Decrement"><span>Rates, Survival and Decrement</span></a></li><li><a class="tocitem" href="#Life-Expectancy"><span>Life Expectancy</span></a></li><li><a class="tocitem" href="#Fractional-Year-Assumptions"><span>Fractional Year Assumptions</span></a></li></ul></li><li><a class="tocitem" href="../ParametricMortalityModels/">Parametric Models</a></li><li><a class="tocitem" href="../ComparisonTool/">Comparison Tool</a></li><li><a class="tocitem" href="../design/">Package Design</a></li></ul></li><li><a class="tocitem" href="../Reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Tables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tables</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/master/docs/src/Tables.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tables"><a class="docs-heading-anchor" href="#Tables">Tables</a><a id="Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Tables" title="Permalink"></a></h1><ul><li><a href="#Tables">Tables</a></li><li class="no-marker"><ul><li><a href="#Loading-Tables">Loading Tables</a></li><li class="no-marker"><ul><li><a href="#Bundled-[mort.SOA.org](https://mort.soa.org)-Tables">Bundled mort.SOA.org Tables</a></li><li><a href="#Other-[mort.SOA.org](https://mort.soa.org)-Tables">Other mort.SOA.org Tables</a></li><li><a href="#Load-custom-set-of-tables">Load custom set of tables</a></li><li><a href="#From-CSV">From CSV</a></li><li><a href="#From-XTbML">From XTbML</a></li><li><a href="#Custom-Tables">Custom Tables</a></li></ul></li><li><a href="#Table-Constructors">Table Constructors</a></li><li><a href="#Table-Attributes">Table Attributes</a></li><li><a href="#Rates,-Survival-and-Decrement">Rates, Survival and Decrement</a></li><li class="no-marker"><ul><li><a href="#Docstrings">Docstrings</a></li></ul></li><li><a href="#Life-Expectancy">Life Expectancy</a></li><li class="no-marker"><ul><li><a href="#Docstrings-2">Docstrings</a></li></ul></li><li><a href="#Fractional-Year-Assumptions">Fractional Year Assumptions</a></li></ul></li></ul><h2 id="Loading-Tables"><a class="docs-heading-anchor" href="#Loading-Tables">Loading Tables</a><a id="Loading-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-Tables" title="Permalink"></a></h2><p>There are a variety of ways to load your own tables, reference online tables, or load bundled tables:</p><h3 id="Bundled-[mort.SOA.org](https://mort.soa.org)-Tables"><a class="docs-heading-anchor" href="#Bundled-[mort.SOA.org](https://mort.soa.org)-Tables">Bundled <a href="https://mort.soa.org">mort.SOA.org</a> Tables</a><a id="Bundled-[mort.SOA.org](https://mort.soa.org)-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Bundled-[mort.SOA.org](https://mort.soa.org)-Tables" title="Permalink"></a></h3><p>Comes with some tables built in via <a href="https://mort.soa.org">mort.SOA.org</a> and by using <a href="https://mort.soa.org/TermsOfUse.aspx">you agree to their terms</a>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Many mortality tables from <code>mort.SOA.org</code> have been tested to work, however not <em>all</em> mortality tables have been tested. Additionally, <code>mort.SOA.org</code> provides non-mortality rate tables which may not be properly parsed by this package. Try it and look at a few of the resulting values. If you encounter any issues, please <a href="https://github.com/JuliaActuary/MortalityTables.jl/issues">file an issue</a>.</p></div></div><p>Sample of some of the included table sets:</p><pre><code class="language-plaintext hljs">2017 Loaded CSO
2015 VBT
2001 VBT
2001 CSO
1980 CSO
1980 CET</code></pre><p><a href="https://github.com/JuliaActuary/MortalityTables.jl/blob/master/BundledTables.md">Click here to see the full list of tables included.</a></p><p>If you would like more tables added by default, please open a GitHub issue with the request.</p><h3 id="Other-[mort.SOA.org](https://mort.soa.org)-Tables"><a class="docs-heading-anchor" href="#Other-[mort.SOA.org](https://mort.soa.org)-Tables">Other <a href="https://mort.soa.org">mort.SOA.org</a> Tables</a><a id="Other-[mort.SOA.org](https://mort.soa.org)-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Other-[mort.SOA.org](https://mort.soa.org)-Tables" title="Permalink"></a></h3><p>Given a table id (<a href="https://mort.soa.org/ViewTable.aspx?&amp;TableIdentity=60029">for example</a> <code>60029</code>) you can request the table directly from the SOA&#39;s mortality table service. Remember that not all tables have been tested, though the standard source format should mean compatibility with <code>MortalityTables.jl</code>.</p><pre><code class="language-julia hljs">aus_life_table_female = get_SOA_table(60029)
aus_life_table_female[0]  # returns the attained age 0 rate of 0.10139</code></pre><p>You can combine it with the bundled tables too:</p><pre><code class="language-julia hljs">tables = MortalityTables.tables()

get_SOA_table!(tables,60029) # this modifies `tables` by adding the new table

t = tables[&quot;Australian Life Tables 1891-1900 Female&quot;]
t[0]  # returns the attained age 0 rate of 0.10139</code></pre><h3 id="Load-custom-set-of-tables"><a class="docs-heading-anchor" href="#Load-custom-set-of-tables">Load custom set of tables</a><a id="Load-custom-set-of-tables-1"></a><a class="docs-heading-anchor-permalink" href="#Load-custom-set-of-tables" title="Permalink"></a></h3><p>Download the <code>.xml</code> <a href="https://mort.soa.org/About.aspx">aka the (<code>XTbML</code> format)</a> version of the table from <a href="https://mort.soa.org">mort.SOA.org</a> and place it in a directory of your choosing. Then call <code>MortalityTables.tables(path_to_your_dir)</code>.</p><h3 id="From-CSV"><a class="docs-heading-anchor" href="#From-CSV">From CSV</a><a id="From-CSV-1"></a><a class="docs-heading-anchor-permalink" href="#From-CSV" title="Permalink"></a></h3><p>If you have a CSV file that is from <a href="https://mort.SOA.org">mort.SOA.org</a>, or follows the same structure, then you can load and parse the table into a <code>MortalityTable</code> like so:</p><pre><code class="language-julia hljs">using CSV
using MortalityTables

path = &quot;path/to/table.csv&quot;
file = CSV.File(path,header=false) # SOA&#39;s CSV files have no true header
table = MortalityTable(file)</code></pre><h3 id="From-XTbML"><a class="docs-heading-anchor" href="#From-XTbML">From XTbML</a><a id="From-XTbML-1"></a><a class="docs-heading-anchor-permalink" href="#From-XTbML" title="Permalink"></a></h3><p>If you have a file using the XTbML format:</p><pre><code class="nohighlight hljs">using MortalityTables
path = &quot;path/to/table.xml&quot;
table = MortalityTables.readXTbML(path)</code></pre><h3 id="Custom-Tables"><a class="docs-heading-anchor" href="#Custom-Tables">Custom Tables</a><a id="Custom-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Tables" title="Permalink"></a></h3><p>Say you have an ultimate vector and select matrix, and you want to leverage the MortalityTables package.</p><p>Here&#39;s an example, where we first construct the <code>UltimateMortality</code> and then combine it with the select rates to get a <code>SelectMortality</code> table.</p><pre><code class="language-julia hljs">using MortalityTables

# represents attained ages of 15 through 100
ult_vec = [0.005, 0.008, ...,0.805,1.00]
ult = UltimateMortality(ult_vec,start_age = 15)</code></pre><p>We can now use this the ultimate rates all by itself:</p><pre><code class="language-julia hljs">q(ult,15,1) # 0.005</code></pre><p>And join with the select rates, which for our example will start at age 0:</p><pre><code class="language-julia hljs"># attained age going down the column, duration across
select_matrix = [ 0.001 0.002 ... 0.010;
                  0.002 0.003 ... 0.012;
                  ...
                ]
sel_start_age = 0
sel = SelectMortality(select_matrix,ult,start_age = 0)

sel[0][0] #issue age 0, attained age 0 rate of  0.001
sel[0][100] #issue age 0, attained age 100 rate of  1.0</code></pre><p>Lastly, to take the <code>SelectMortality</code> and <code>UltimateMortality</code> we just created, we can combine them into one stored object, along with a <code>TableMetaData</code>:</p><pre><code class="language-julia hljs">my_table = MortalityTable(
              s1,
              u1,
              metadata=TableMetaData(name=&quot;My Table&quot;, comments=&quot;Rates for Product XYZ&quot;)
              )</code></pre><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.readXTbML" href="#MortalityTables.readXTbML"><code>MortalityTables.readXTbML</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">readXTbML(path)</code></pre><p>Loads the <a href="https://mort.soa.org/About.aspx">XtbML</a> (the SOA XML data format for mortality tables) stored at the given path and returns a <code>MortalityTable</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/XTbML.jl#LL133-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.table" href="#MortalityTables.table"><code>MortalityTables.table</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">table(id)
table(name)</code></pre><p>Given the id or name of a <code>mort.SOA.org</code> table, grab it and return it as a <code>MortalityTable</code>.</p><p>!!! Remember that not all tables have been tested to work.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/get_SOA_table.jl#LL24-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.get_SOA_table" href="#MortalityTables.get_SOA_table"><code>MortalityTables.get_SOA_table</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_SOA_table(id)
get_SOA_table(table_name)</code></pre><p>Given the id or name of a <code>mort.SOA.org</code> table, grab it and return it as a <code>MortalityTable</code>.</p><p>!!! Remember that not all tables have been tested to work.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/get_SOA_table.jl#LL1-L8">source</a></section></article><h2 id="Table-Constructors"><a class="docs-heading-anchor" href="#Table-Constructors">Table Constructors</a><a id="Table-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Table-Constructors" title="Permalink"></a></h2><p>Use these to build your own <code>MortalityTables.jl</code>-compatible table:</p><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.MortalityTable" href="#MortalityTables.MortalityTable"><code>MortalityTables.MortalityTable</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MortalityTable(ultimate)
MortalityTable(select, ultimate)
MortalityTable(select, ultimate; metadata::MetaData)</code></pre><p>Constructs a container object which can hold either:     - ultimate-only rates (an <code>UltimateTable</code>)     - select and ultimate rates (a <code>SelectUltimateTable</code>)</p><p>Also pass a keyword argument <code>metadata=MetaData(...)</code> to store relevant information (source, notes, etc) about the table itself.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># first construct the underlying data
ult = UltimateMortality([x / 100 for x in 0:100]); # first ma
matrix = rand(10,50); # represents random mortality rates with a select period of 10 years
sel = SelectMortality(matrix,ult,start_age=0);

table = MortalityTable(sel,ult)

# can now get rates, indexed by attained age:

table.select[10] # the vector of rates for a risk issued select at age 10 

table.ultimate[99] # 0.99
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL67-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.SelectMortality" href="#MortalityTables.SelectMortality"><code>MortalityTables.SelectMortality</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SelectMortality(select, ultimate; start_age=0)</code></pre><p>Given a matrix rates, where the first row represents the select rates for a risk, will create a an <code>OffsetArray</code> that is indexed by issue age, containing a vector of rate indexed by attained age. The ultimate mortality vector is used for rates in the post-select period.</p><p>Give the optional keyword argument to start the indexing at an age other than zero.</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">julia&gt; ult = UltimateMortality([x / 100 for x in 0:100]);

julia&gt; matrix = rand(50,10); # represents random(!) mortality rates with a select period of 10 years

julia&gt; sel = SelectMortality(matrix,ult,start_age=0);

julia&gt; sel[0] # the mortality vector for a select life with issue age 0
 0.12858960119349439
 0.1172480189376135
 0.8237661916705163
 ⋮
 0.98
 0.99
 1.0

julia&gt; sel[0][95] # the mortality rate for a life age 95, that was issued at age 0
0.95</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL26-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.UltimateMortality" href="#MortalityTables.UltimateMortality"><code>MortalityTables.UltimateMortality</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">UltimateMortality(vector; start_age=0)</code></pre><p>Given a vector of rates, returns an <code>OffsetArray</code> that is indexed by attained age. </p><p>Give the optional keyword argument to start the indexing at an age other than zero.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; m = UltimateMortality([0.1,0.3,0.6,1]);

julia&gt; m[0]
0.1

julia&gt; m = UltimateMortality([0.1,0.3,0.6,1], start_age = 18);

julia&gt; m[18]
0.1
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.mortality_vector" href="#MortalityTables.mortality_vector"><code>MortalityTables.mortality_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mortality_vector(vec; start_age=0)</code></pre><p>A convenience constructor to create an OffsetArray which has the array indexed by attained age rather than always starting from <code>1</code>. The package and JuliaActuary ecosystem assume that the rates are indexed by attained age and this allows transformation of tables without a direct dependency on <strong>OffsetArrays.jl</strong>.</p><p>Equivalent to doing:</p><pre><code class="nohighlight hljs">using OffsetArrays
OffsetArray(vec,start_age-1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL303-L313">source</a></section></article><h2 id="Table-Attributes"><a class="docs-heading-anchor" href="#Table-Attributes">Table Attributes</a><a id="Table-Attributes-1"></a><a class="docs-heading-anchor-permalink" href="#Table-Attributes" title="Permalink"></a></h2><p>Basic metadata about the table (automatically populated for some tables).</p><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.TableMetaData" href="#MortalityTables.TableMetaData"><code>MortalityTables.TableMetaData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TableMetaData(kwargs...)</code></pre><p>Has the following fields, which default to <code>nothing</code> if not specified with a keyword:</p><ul><li><code>name</code> - a name for the table</li><li><code>id</code> - if a mort.SOA.org sourced table, will be the identifying table ID</li><li><code>provider</code> - Where the rates came from</li><li><code>reference</code> - Source for more info on table</li><li><code>content_type</code></li><li><code>description</code></li><li><code>comments</code></li><li><code>source_path</code></li></ul><p>When you call a <code>MortalityTable</code> interactively, it will nicely print this summary infomration.</p><p><strong>Example content from mort.SOA.org:</strong></p><ul><li><strong>Table Identity</strong>: 1076</li><li><strong>Provider Domain</strong>: actuary.org</li><li><strong>Provider Name</strong>: American Academy of Actuaries</li><li><strong>Table Reference</strong>: Tillinghast, “American Council of Life Insurers: Preferred Version of 2001 CSO Mortality Tables”, ...</li><li><strong>Content Type</strong>: CSO/CET</li><li><strong>Table Name</strong>: 2001 CSO Super Preferred Select and Ultimate - Male Nonsmoker, ANB</li><li><strong>Table Description</strong>: 2001 Commissioners Standard Ordinary (CSO) Super Preferred Select and Ultimate Table – Male Nonsmoker. Basis: Age Nearest Birthday. Minimum Select Age: 0. Maximum Select Age: 99. Minimum Ultimate Age: 16. Maximum Ultimate Age: 120</li><li><strong>Comments</strong>: Study Data: A preferred version of the 2001 Commissioners Standard Ordinary (CSO) table ...</li></ul><p>And the <code>source_path</code> would be: <a href="https://mort.soa.org/ViewTable.aspx?&amp;TableIdentity=1076">https://mort.soa.org/ViewTable.aspx?&amp;TableIdentity=1076</a></p><p><strong>Example usage:</strong></p><pre><code class="nohighlight hljs">julia-repl&gt; TableMetaData(name=&quot;My Table Name&quot;)
TableMetaData(&quot;My Table Name&quot;, nothing, nothing, nothing, nothing, nothing, nothing, nothing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/69fcb5745bda8a5588c089f7b65831787cffc366/base/#L0-L34">source</a></section></article><p>Find the final age for which a table defines a rate.</p><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.omega" href="#MortalityTables.omega"><code>MortalityTables.omega</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">omega(x)
ω(x)</code></pre><p>Returns the last index of the given vector. For mortality vectors this means the last attained age for which a rate is defined.</p><p>Note that <code>omega</code> can vary depending on the issue age for a select table, and that a select <code>omega</code> may differ from the table&#39;s ultimate <code>omega</code>.</p><p>ω is aliased to omega, but un-exported. To use, do <code>using MortalityTables: ω</code> when importing or call <code>MortalityTables.ω()</code></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; qs = UltimateMortality([0.1,0.3,0.6,1]);
julia&gt; omega(qs)
3

julia&gt; qs = UltimateMortality([0.1,0.3,0.6,1],start_age=10);
julia&gt; omega(qs)
13
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL273-L295">source</a></section></article><h2 id="Rates,-Survival-and-Decrement"><a class="docs-heading-anchor" href="#Rates,-Survival-and-Decrement">Rates, Survival and Decrement</a><a id="Rates,-Survival-and-Decrement-1"></a><a class="docs-heading-anchor-permalink" href="#Rates,-Survival-and-Decrement" title="Permalink"></a></h2><p>To access the rates, simply index by the attained age. Example:</p><pre><code class="language-julia hljs">julia&gt; vbt2001 = tables[&quot;2001 VBT Residual Standard Select and Ultimate - Male Nonsmoker, ANB&quot;]
MortalityTable (Insured Lives Mortality):
   Name:
       2001 VBT Residual Standard Select and Ultimate - Male Nonsmoker, ANB
   Fields:
       (:select, :ultimate, :metadata)
   Provider:
       Society of Actuaries
   mort.SOA.org ID:
       1118
   mort.SOA.org link:
       https://mort.soa.org/ViewTable.aspx?&amp;TableIdentity=1118
   Description:
       2001 Valuation Basic Table (VBT) Residual Standard Select and Ultimate Table -  Male Nonsmoker.
       Basis: Age Nearest Birthday. 
       Minimum Select Age: 0. 
       Maximum Select Age: 99. 
       Minimum Ultimate Age: 25. 
       Maximum Ultimate Age: 120</code></pre><p>The package revolves around easy-to-access vectors which are indexed by attained age:</p><pre><code class="language-julia hljs">julia&gt; vbt2001.select[35]          # vector of rates for issue age 35
 0.00036
 0.00048
 ⋮
 0.94729
 1.0
 
julia&gt; vbt2001.select[35][35]      # issue age 35, attained age 35
 0.00036
 
julia&gt; vbt2001.select[35][50:end] # issue age 35, attained age 50 through end of table
0.00316
0.00345
 ⋮
0.94729
1.0

julia&gt; vbt2001.ultimate[95]        # ultimate vectors only need to be called with the attained age
 0.24298</code></pre><h3 id="Docstrings"><a class="docs-heading-anchor" href="#Docstrings">Docstrings</a><a id="Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#Docstrings" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.survival" href="#MortalityTables.survival"><code>MortalityTables.survival</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">survival(mortality_vector,to_age)
survival(mortality_vector,from_age,to_age)</code></pre><p>Returns the survival through attained age <code>to_age</code>. The start of the calculation is either the start of the vector, or attained<em>age `from</em>age<code>.</code>from<em>age<code>and</code>to</em>age` need to be Integers. Add a DeathDistribution as the last argument to handle floating point and non-whole ages:</p><pre><code class="nohighlight hljs">survival(mortality_vector,to_age,::DeathDistribution)
survival(mortality_vector,from_age,to_age,::DeathDistribution)</code></pre><p>If given a negative <code>to_age</code>, it will return <code>1.0</code>. Aside from simplifying the code, this makes sense as for something to exist in order to decrement in the first place, it must have existed and survived to the point of  being able to be decremented.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; qs = UltimateMortality([0.1,0.3,0.6,1]);
    
julia&gt; survival(qs,0)
1.0
julia&gt; survival(qs,1)
0.9

julia&gt; survival(qs,1,1)
1.0
julia&gt; survival(qs,1,2)
0.7

julia&gt; survival(qs,0.5,Uniform())
0.95</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL141-L169">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.decrement" href="#MortalityTables.decrement"><code>MortalityTables.decrement</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">decrement(mortality_vector,to_age)
decrement(mortality_vector,from_age,to_age)</code></pre><p>Returns the cumulative decrement through attained age <code>to_age</code>. The start of the calculation is either the start of the vector, or attained<em>age `from</em>age<code>.</code>from<em>age<code>and</code>to</em>age` need to be Integers. Add a DeathDistribution as the last argument to handle floating point and non-whole ages:</p><pre><code class="nohighlight hljs">decrement(mortality_vector,to_age,::DeathDistribution)
decrement(mortality_vector,from_age,to_age,::DeathDistribution)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; qs = UltimateMortality([0.1,0.3,0.6,1]);
    
julia&gt; decrement(qs,0)
0.0
julia&gt; decrement(qs,1)
0.1

julia&gt; decrement(qs,1,1)
0.0
julia&gt; decrement(qs,1,2)
0.3

julia&gt; decrement(qs,0.5,Uniform())
0.05</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/MortalityTable.jl#LL240-L266">source</a></section></article><h2 id="Life-Expectancy"><a class="docs-heading-anchor" href="#Life-Expectancy">Life Expectancy</a><a id="Life-Expectancy-1"></a><a class="docs-heading-anchor-permalink" href="#Life-Expectancy" title="Permalink"></a></h2><p>Calculate curtate or complete life expectancy.</p><h3 id="Docstrings-2"><a class="docs-heading-anchor" href="#Docstrings-2">Docstrings</a><a class="docs-heading-anchor-permalink" href="#Docstrings-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.life_expectancy" href="#MortalityTables.life_expectancy"><code>MortalityTables.life_expectancy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">life_expectancy(table,age)
life_expectancy(table,age,DeathDistribution)</code></pre><p>Calcuate the remaining life expectancy. Assumes curtate life expectancy for tables if not Parametric or DeathDistribution given.</p><p>The life_expectancy of the last age defined in the table is set to be <code>0.0</code>, even if the table does not end with a rate of <code>1.0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/life_expectancy.jl#LL1-L8">source</a></section></article><h2 id="Fractional-Year-Assumptions"><a class="docs-heading-anchor" href="#Fractional-Year-Assumptions">Fractional Year Assumptions</a><a id="Fractional-Year-Assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#Fractional-Year-Assumptions" title="Permalink"></a></h2><p>When evaluating survival over partial years when you are given full year mortality rates, you must make an assumption over how those deaths are distributed throughout the year. Three assumptions are provided as options and are based on formulas from the <a href="https://www.soa.org/globalassets/assets/Files/Research/2016-10-experience-study-calculations.pdf">2016 Experience Study Calculations paper from the SOA</a>, specifically pages 40-44.</p><p>The three assumptions are:</p><ul><li><code>Uniform()</code> which assumes an increasing force of mortality throughout the year.</li><li><code>Constant()</code> which assumes a level force of mortality throughout the year.</li><li><code>Balducci()</code> which assumes a decreasing force of mortality over the year. It seems [to</li></ul><p>be for making it easier](https://www.soa.org/globalassets/assets/library/research/actuarial-research-clearing-house/1978-89/1988/arch-1/arch88v17.pdf) to calculate successive months by hand rather than any theoretical basis.</p><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.DeathDistribution" href="#MortalityTables.DeathDistribution"><code>MortalityTables.DeathDistribution</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DeathDistribution</code></pre><p>An abstract type used to form an assumption of how deaths occur throughout a     year. See <code>Balducci()</code>, <code>Uniform()</code>, and <code>Constant()</code> for concrete     assumption types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/death_distribution.jl#LL1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.Balducci" href="#MortalityTables.Balducci"><code>MortalityTables.Balducci</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Balducci()</code></pre><p>A <code>DeathDistribution</code> type that assumes a decreasing force of mortality over the year.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/death_distribution.jl#LL10-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.Uniform" href="#MortalityTables.Uniform"><code>MortalityTables.Uniform</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Uniform()</code></pre><p>A <code>DeathDistribution</code> type that assumes an increasing force of mortality over the year.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/death_distribution.jl#LL18-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MortalityTables.Constant" href="#MortalityTables.Constant"><code>MortalityTables.Constant</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Constant()</code></pre><p>A <code>DeathDistribution</code> type that assumes a constant force of mortality over the year.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaActuary/MortalityTables.jl/blob/e7a98fe64677251a904f0fbedd7a2e86f6c841e7/src/death_distribution.jl#LL26-L31">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Usage and Examples</a><a class="docs-footer-nextpage" href="../ParametricMortalityModels/">Parametric Models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Sunday 5 December 2021 04:27">Sunday 5 December 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
